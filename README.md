## Tutorial-Como digitalizar livros
Autor: [t.me/anonlivros](https://t.me/anonlivros)

### Menu de Navegação
1-[Introdução](#Introdução)

2-[O segredo do enquadramento perfeito](#O-segredo-do-enquadramento-perfeito)

2.1-[Perspectiva](#Perspectiva)

2.2-[Rotação](#Rotação)

3-[Tirar Fotos-Modo Páginas Contínuas](#Tirar-Fotos-Modo-Páginas-Contínuas)

4-[Tirar Fotos-Modo Duplex](#Tirar-Fotos-Modo-Duplex)

4.1-[Acelerando as fotografias](#Acelerando-as-fotografias)

4.1.1-[Disparo por sinal sonoro](#Disparo-por-sinal-sonoro)

4.1.2-[Disparo com timer automático](#Disparo-com-timer-automático)

4.1.2.1-[Configurando o timer](#Configurando-o-timer)

4.2-[Dica para aumentar a qualidade final](#Dica-para-aumentar-a-qualidade-final)

4.2.1-[Minimizar distorção das páginas](#Minimizar-distorção-das-páginas)

4.3-[Tratamento das fotos](#Tratamento-das-fotos)

4.3.1-[Modo em lotes de páginas contínuas](#Modo-em-lotes-de-páginas-contínuas)

4.3.2-[Modo em lotes separados em Par / Ímpar (duplex scanning)](#modo-em-lotes-separados-em-par--%C3%ADmpar-duplex-scanning)

4.3.2.1-[Corrigir rotação do lote de páginas Ímpar e Par com software externo](#Corrigir-rotação-do-lote-de-páginas-Ímpar-e-Par-com-software-externo)

4.3.3-[Edição final](#Edição-final)

4.3.3.1-[Tutorial em vídeo](#Tutorial-em-vídeo)

4.3.3.2-[Download-Software Profissional](#Download-Software-Profissional)

4.3.3.3-[Importação](#Importação)

4.3.3.3.1-[Delimitação do tamanho da task](#Delimitação-do-tamanho-da-task)

4.3.3.3.2-[Maiores detalhes: O motivo do volume par](#Maiores-detalhes-O-motivo-do-volume-par)

4.3.3.4-[Edição das fotos](#Edição-das-fotos)

4.3.3.5-[Recuperar a ordem natural das páginas](#Recuperar-a-ordem-natural-das-páginas)

4.3.3.6-[Ativar função de pesquisa (OCR)](#ativar-fun%C3%A7%C3%A3o-de-pesquisa-ocr)

5-[Salvar Ebook PDF](#Salvar-Ebook-PDF)

### Introdução
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
No escaneamento de livros, existe o dilema envolvendo as variáveis: Qualidade x Velocidade

Para maior velocidade, perdendo qualidade de imagem, se fotografa 2 páginas por vez e posteriormente corta-se a imagem na metade. Dado a distância da captura, a qualidade da imagem será baixa. Este é o processo Contínuo.

Para maior qualidade, se fotografa uma página por vez, com maior aproximação da câmera ao livro. Em contrapartida, este processo exige um maior tempo dedicado à captura das imagens. Este é o processo Duplex.

Este tutorial abordará extensivamente um modo otimizado de praticar o processo Duplex, desde a fase inicial de captura das fotos, seguindo por sua edição até gerar o ebook PDF finalizado.

Sobre a velocidade da transformação de livro de papel em Ebook PDF:
- 400 páginas leva 7 horas de trabalho, se dividindo em:
  - 2 horas para fotografar as 400 páginas;
  - 5 horas para transformar as fotos em PDF pesquisável de altísstimma qualidade.

Dependendo do nível de exigência de qualidade no processo de edição gráfica, ele poderá ser terminado em 30 minutos.

### O segredo do enquadramento perfeito
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
O processo de tirar fotos com um celular, ao invés de um aparelho de Scanner, está sujeito a distorções:
- de perspectiva, que impede que os ângulos internos de uma foto de um retângulo seja de 90 graus.
- de rotação, quando o livro está levemente rotacionado na mesa em relação ao celular.

Apesar de que essas distorções nas fotografias possam ser atenuadas com técnicas de edição gráfica, a qualidade final do processo será **inferior** do que seria caso a etapa de captura das fotos já fosse com enquadramento perfeito.

Um enquadramento perfeito da captura das fotos contribui imensamente para a qualidade final do ebook PDF.

Abaixo será apresentado como podemos atingir este nível de qualidade.

Executar esses passos com cuidado, minimiza drasticamente o tempo necessário na edição das fotos, por reduzir os efeitos de distorção trapezoidal, fazer ajuste de rotação e aplicar função de endireitamento de linhas.

#### Perspectiva
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Siga os passos:
- Instale o Android app `Angle Measurement and Accelerometer`\
https://play.google.com/store/apps/details?id=com.tksw.tksw.anglemeasurement
- Coloque o celular em cima da mesa onde o livro será fotografado. Caso o celular tenha alguma capa que desnivele a face do celular em cima da mesa, remova a capa.
- Abra o app e memorize as coordenadas X e Y que aparecem na tela do app.
- Prenda o suporte à mesa, preferencialmente próximo da quina da mesa, onde você possa manusear o livro sem inclinar o tronco ou estender os braços.
- Prenda o celular no suporte.
- Ajuste o suporte e a posição do celular nele, de modo que as coordenadas para X e Y no app, fiquem o mais próximas possíveis das coordenadas que foram memorizadas anteriormente.

Com esses passos acima, garantimos que as páginas capturadas estejam sem distorção de perspectiva, onde os ângulo internos sejam de exatos 90 graus.

#### Rotação
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Siga os passos:
- Abra o app da sua câmera com a opção `Linhas de Grade`ou `Grid Lines` ativada.
- Ajuste a posição do livro na mesa se guiando pelas linhas de grade.
	- De modo que o livro fique com as linhas de texto ajustadas com as linhas horizontais da grade.
	- E de modo que o livro fique centralizado na área visível da câmera.

Com esses passos acima, garantimos que:
- o livro esteja aprumado com a posição do celular e assim, as linhas sejam fotografadas perfeitamente horizontais.
- As margens verticais e horizontais dos limites da foto em relação ao livro, estejam simétricas.

### Tirar Fotos-Modo Páginas Contínuas
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
[ em construção ]

### Tirar Fotos-Modo Duplex
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Para colher as duas vantagens (qualidade e velocidade) simultaneamente, recomenda-se o uso de um suporte fixo para segurar a câmera.

A técnica recomendada consiste em manter o suporte apontando a câmera apenas para a página da direita, enquadrando toda a página da forma mais próxima possível, aproximando a câmera de modo a minimizar  espaços vazios nas margens da foto.

Para facilitar a comunicação de termos, chamaremos as páginas da direita do livro como 'ímpar' e as páginas da esquerda como 'par'.


Após o devido enquadramento fixo, por estar presa no suporte, fotografar todas as páginas ímpares sem movimentar o livro, mas somente virando as páginas.

Após o término da fotografia do lote Ímpar, recomenda-se virar o livro de ponta-cabeça (giro de 180 graus) e fotografar apenas as páginas Par. O motivo do 'giro 180 graus' é para ser possível  focalizar apenas as páginas Pares, mas sem precisar ajustar o enquadramento do suporte do celular.

Durante esse giro, reaplique a técnica de ajuste de rotação com as linhas de grade, descrito no início do tutorial.

Após girar o livro 180 graus, existe uma forma de tornar as 'viradas de páginas' mais cômodas. Recomenda-se fotografar começando da última página do livro, assim os movimentos das mãos em virar as páginas serão os mesmos em relação ao lote ímpar.

Naturalmente, as fotografias deste lote ficarão de ponta cabeça e em ordem inversa de páginas, mas posteriormente esse efeito colateral será ajustado.

#### Acelerando as fotografias
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Para aumentar a velocidade de captura sem precisar tocar no celular para tirar cada foto, existem abordagens distintas que podem ser seguidas.
Além do ganho de velocidade, essas abordagens aumentam a qualidade das fotos, uma vez que o toque no celular provoca tremores no suporte que podem gerar borrões na foto.

##### Disparo por sinal sonoro
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Esta abordagem é a mais eficiente. Mas ela só pode ser aplicada em ambientes que não sejam muito barulhentos.

- Instale o android app EasySelfie\
https://play.google.com/store/apps/details?id=com.pojkarsoft.easyselfie

O app informado possibilita tirar fotos sempre que o seu celular 'escutar' um ruído acima de um volume predeterminado. Desta forma, basta pronunciar uma sílaba em voz alta, como 'vai' ou 'pá', que o celular fará o disparo da fotografia.
Em seguida, virar a página do livro e emitir novamente o sinal sonoro para o celular tirar mais uma foto.

A grande vantagem deste método está em o celular respeitar as variações de velocidade na sua capacidade de virar as páginas. Assim haverá uma forte sincronia entre a frequecia das fotografias disparadas e seus movimentos manuais. Sem disparo no momento errado e sem tempo perdido com espera.

##### Disparo com timer automático
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Esta abordagem é menos produtiva que com o Disparo por Sinal Sonoro.

- Instale o android app Câmera Foto Sequência\
https://play.google.com/store/apps/details?id=com.augusto.cameratimelapse&hl=pt_BR

O app informado possibilita tirar fotos automaticamente a cada 'x' segundos, de forma que o tempo dos intervalos de captura corresponda a sua pessoal velocidade manual de trocar de páginas com segurança, minimizando os erros no processo.

###### Configurando o timer
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
- Testar o timer de fotografia sequencial configurado para 10 segundos e ir reduzindo conforme a sua perícia em virar páginas com segurança e rapidamente.
- É importante destacar que caso o timer seja configurado para um tempo abaixo de sua habilidade manual em trocar páginas, resultará mais erros manuais. Ou seja, erros como tiragem de foto durante o manuseio das páginas. Esses erros demandam maior retrabalho de exclusão das fotos descartáveis e ocasionam no aumento do tempo investido no processo de captura. Assim, é importante configurar um tempo de captura sequencial que esteja de acordo com sua particular habilidade de virar páginas.

#### Dica para aumentar a qualidade final
##### Minimizar distorção das páginas
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Siga os passos:
- Para livros do tipo brochura que causa arredondamento de páginas durante sua abertura, é recomendável usar um instrumento longo e fino para pressionar as páginas fotografadas minimizando o 'arredondamento' delas durante a captura e se aproximando de um estado perfeitamente 'assentado' das páginas.
- O local indicado de pressão é a margem externa do livro, o mais longe possível de seu conteúdo.
- O instrumento para aplicar pressão pode ser improvisado com objetos como:
	- Hashi de sushi, baqueta de bateria, régua, garfo/colher (apoiando no livro com o cabo), cabo fino de pentes/escovas longas, etc...
	- Uma abordagem não recomendada seria estabilizar as páginas com os próprios dedos pressionando na margem. Mas dessa forma, aumenta a chance de gerar piores resultados durante o processamento automático de correção de distorções.

### Tratamento das fotos
#### Modo em lotes de páginas contínuas
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
[ em construção ]
- Similar ao processo duplex, com as ressalvas:
	- É necessário cortar as fotos verticalmente, na divisão das páginas.
	- Não é necessário fazer o reordenamento em modo 'duplex scanning'

#### Modo em lotes separados em Par / Ímpar (duplex scanning)
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Este método considera que se tenha um lote de imagens apenas das páginas **ímpar** e outro lote de imagens apenas com páginas **par**.

A Eficiência Estimada do processo de edição proposto é de aproximadamente 45 segundos por página, para lotes de aproximadamente 40 páginas.

Estimativas de Eficiência no tratamento das fotos
- lote de 40 páginas (20 ímpar + 20 par): 29 minutos
- livro de 400 páginas: 5 horas

##### Corrigir rotação do lote de páginas Ímpar e Par com software externo
[ em construção ]

#### Edição final
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Utilizaremos o software `Abby FineReader 15 Portable` para fazer a edição final das fotos e produzir o livro em PDF.

##### Tutorial em vídeo
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
[![Tutorial em vídeo](https://i.imgur.com/grL71hw.jpg)](https://youtu.be/8U1QuFpO8WY)

##### Download-Software Profissional

**abby_finereader_15-portable - version 15018AFRCE**\
https://t.me/anonlivros/18


##### Importação
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Como o projeto de construção do PDF não será finalizado num único esforço contínuo, a atividade edição final das fotos será quebrada em pequenas tasks de trabalho que facilitará a divisão de trabalho ao longo dos dias e minimizará o risco de se perder durante a organização do processo.

###### Delimitação do tamanho da task
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Neste tutorial, será utilizado o volume de 1 task como sendo a finalização do tratamento de 40 páginas.

É extremamente recomendado que o volume de páginas por task seja fixo e de número par.

Mas será apresentado os fatores envolvidos nesta tomada de decisão.

Como as fotografias tiradas estão segmentadas em lote ímpar e lote par, o processo de importação também será segmentado nestes lotes.

Essa segmentação aumenta a produtividade do trabalho, uma vez que as fotografias do mesmo lote possui a mesma posição, possibilitando aplicação de funções de tratamento em lote, dispensando o tratamento individual das fotos.

Para aumentar a consistência do processo de importação, é recomendado utilizar uma task com volume de página correspondente a um número par.

###### Maiores detalhes-O motivo do volume par
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Com uma task com volume de páginas por lote de 40 páginas, os 2 lotes importados seriam como o abaixo.

Repare a ordem de importação necessária, sendo consistente entre as tasks em lotes de ímpar/par, ímpar/par.

- task 1
	- lote ímpar-página 01 até 39
	- lote par-páginas 02 até 40
- task 2
	- lote ímpar-página 41 até 79
	- lote par-páginas 42 até 80

Já para uma task de volume ímpar, o que não é recomendado, de  25 páginas, os 2 lotes importados seriam como o abaixo.

Repare a ordem de importação necessária, não seria consistente entre as tasks, alternando de ímpar/par, para par/ímpar.

- task 1
	- lote ímpar-página 01 até 24
	- lote par-páginas 02 até 25
- task 2
	- lote par-páginas 26 até 50
	- lote ímpar-página 27 até 49

Com tasks de volume ímpar, a falta de consistência no processo de importação aumenta o risco de erros de importação que geram retrabalhos para correção dos acidentes e perda de eficiência no processo.

##### Edição das fotos
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Tal como explicado no tópico acima, a task deve ser composta por um volume de número par.

Considerando que as páginas iniciam com o número 1.

- Importar lote ímpar
	- Alterar resolução para 200 dpi
	- Aplicar função: 'Correct Trapezoid Distortion'
    	- Com margem aproximadamente de 20 px quadrados para além da margem da página
    	- Importante: Margem curta demais em relação a página, aumenta o risco de gerar um grave erro na etapa de Crop.
	- Aplicar função: 'Deskew'
	- Aplicar função: 'Straighten Text Lines'
	- Selecionar função Crop e definir dimensões do corte padrão em milímetros.
		- Recomenda-se utilizar a proporção de Altura / Largura de 1,45.
		- Normalmente a dimensão 220 mm x 319 mm é ideal.
		- A dimensão ideal dependerá da altura do seu celular no momento da fotografia e do tamanho do livro.
		- Segue uma lista de dimensões de largura e altura, com proporção de 1,45: (200,290), (220,319), (240,348), (260,377), (280,406), (300,435), (320,464)
		- Para calcular outras dimensões mantendo a proporção em 1,45, ajuste a largura em 20 mm e a altura em 29 mm, seja ambos aumentando ou diminuindo.
		- Importante: Encontrada suas dimensões ideais em milímetros, anote-as e use como padrão de corte para TODOS os lotes.
	- Aplicar função: 'crop'
		- Centralizar o conteúdo da página
		- Importante: Não alinhar o Crop na borda da imagem. Esta posição no alinhamento gera um alto risco de erro na dimensão da imagem resultante, resultando em uma página com o tamanho menor que o escolhida, variando até 1 px. Caso se note que o alinhamento necessário do crop seja na borda da imagem, refaça o processo de importação das imagens, mas na etapa da função 'Correct Trapezoid Distortion', aumente a margem da seleção em relação a borda da página. para ter mais espaço de manobra no alinhamento do crop sem tocar na borda da imagem.
	- Para cada página individualmente
		- Validar se há algum problema de edição.
		- Problemas e correções:
			- Caso alguma página esteja numa situação que incapacite o crop ou esteja com grave distorção
			- Importar a página defeituosa e repetir todo o processo exclusivamente para ela

- Repetir processo acima para o lote par

- Para ambos lotes de uma única vez
	- Aplicar função: 'Photo correction' > 'White Background'

- Para cada página individualmente
	- Selecionar função 'Erase'
		- Manualmente limpar as margens das páginas, removendo qualquer sujeira visual, como o instrumento utilizado para pressionar as páginas ou sombras.
		- Com a ferramenta, faça retângulos largos de modo que a maior área interna seja preenchida pelo fundo do livro. Se os retângulos forem pequenos e a maior parte de sua área interna for preenchida pela sujeira à ser removida, ao invés de remover a sujeira, ocasionará um efeito colateral, aparecendo um retângulo preto.

##### Recuperar a ordem natural das páginas
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Esta etapa só é necessária para fotos importadas separando em lote ímpar e par (duplex).

- Para ambos os lotes
	- Selecionar as páginas,
	- clicar com o botão direito numa delas,
	- clicar na opção 'Reorder pages',
	- clicar no tickbox 'Restore original page order after duplex scanning',
	- clicar no botão 'ok'.

##### Ativar função de pesquisa (OCR)
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Siga os passos:
- Analisar páginas para distinguir texto de imagens
	- Selecionar todas as páginas
	- Clicar com o botão direito do mouse na primeira página
	- Clicar na opção 'Analyze Select Pages'

- Correção da identificação do que é texto (OCR)
	- Verificar cada página para se certificar que todos os campos de texto possuem um retângulo Verde ao seu entorno
	- Caso não possua
		- deve-se o criar ao clicar no 'canto superior esquerdo' e arrastar o mouse até seu canto 'inferior direito'
		- ou deve-se alongar a área de texto já existente mais próxima

- Aplicar identificação de texto
	- Selecionar todas as páginas
	- Clicar com o botão direito do mouse na primeira página
	- Clicar na opção 'Read Selected Pages'

## Salvar Ebook PDF
###### [[voltar]](#Tutorial-Como-digitalizar-livros)

\
Siga os passos:
- Na barra de opções superior, clicar em "File"
- Clicar 'Save  As'
- Clicar em 'Searchable PDF Document'
- Clicar em 'Options...'
- Em 'Image quality', selecione 'Best quality'
- Marque 'Create PDF/UA (requires OCR)'
- Clique em 'Use one paper size for all page images:'
	- Na caixa de seleção que será habilitada, selecione 'Custom...'
	- Janela que abrirá, nos campos em 'Paper size', define a largura e altura em milímetros que foi definida na etapa do Crop. Confirme clicando em 'ok'.
- Marque 'Use MRC compression (requires OCR)'
- Marque 'Apply ABBYY PreciseScan to smooth characters on page images'
- Em 'Searchable PDF settings', marque 'Text under the page image'
- Clique em 'Edit Metadata'
- Na tela que abrir, defina informa o título do livro, autor e opcionalmente demais informações. Confirme clicando em 'ok'.
- Confirme clicando em 'Ok'
- Defina o nome para o nome do arquivo PDF e clique em 'Salvar'.
